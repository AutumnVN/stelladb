<div class="tabs-wrapper">
    <nav class="tabs">
        <slot />
    </nav>
</div>

<script>
    // @ts-nocheck
    const panels = document.querySelectorAll('.tab-panel');

    document.addEventListener('click', (e) => {
        const tab = e.target.closest('.tab');
        if (!tab) return;

        const container = tab.closest('.astro-tabs');
        const localTabs = container ? container.querySelectorAll('.tab') : document.querySelectorAll('.tab');

        localTabs.forEach((t) => t.classList.toggle('active', t === tab));

        panels.forEach((p) => {
            p.hidden = p.id !== tab.dataset.tab;
        });
    });
</script>

<style is:global>
    .tabs-wrapper {
        margin-left: auto;
    }

    .tabs {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .tab {
        cursor: pointer;
        border: none;
        border-radius: 10px;
        background: var(--bg2);
        padding: 0.55rem 0.85rem;
        color: var(--muted);
        font-size: 0.95rem;
        letter-spacing: 0.01em;
        transition: color 140ms ease, transform 140ms ease, box-shadow 140ms ease, background-color 140ms ease;
    }

    .tab:hover,
    .tab:focus-visible {
        color: var(--text);
        background: #ffffff0e;
        outline: none;
        transform: translateY(-1px);
        box-shadow: 0 10px 18px #0008;
    }

    .tab.active {
        color: var(--text);
        font-weight: 700;
        background: #ffffff16;
        box-shadow: inset 0 0 0 1px #ffffff1f;
    }
</style>
