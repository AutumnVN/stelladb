---
// @ts-nocheck
import Layout from '../layouts/Layout.astro';

import Card from '../components/Card.astro';
import SearchableGrid from '../components/SearchableGrid.astro';

const DATA_URL = 'https://raw.githubusercontent.com/AutumnVN/StellaSoraData/refs/heads/main/ground.json';

const data = await fetch(DATA_URL).then((res) => res.json());

const emoji = {
    Aqua: 'ğŸ’§',
    Ignis: 'ğŸ”¥',
    Terra: 'â›°ï¸',
    Ventus: 'ğŸŒªï¸',
    Lux: 'â˜€ï¸',
    Umbra: 'ğŸŒ™',
    None: 'â¬œ',
};
---

<Layout title="Proving Ground | stelladb">
    <SearchableGrid placeholder="Search bosses by id, name, or element..." noResultsText="No boss found.">
        {
            Object.entries(data).map(([id, ground]) => (
                <div class="card-item" data-id={id} data-name={ground.name} data-weakto={ground.weakTo.join(', ')} data-resistto={ground.resistTo}>
                    <Card href={`/ground/${id}`} name={ground.name} desc={`Weak: ${ground.weakTo.map((e) => e + emoji[e]).join(', ')}`} desc2={`Resist: ${ground.resistTo}${emoji[ground.resistTo]}`} star={ground.star} image={`https://chino.is-a.dev/cdn-cgi/image/format=avif/https://raw.githubusercontent.com/AutumnVN/ssassets/refs/heads/main/export/Assets/assetbundles/icon/mapchallenge/${ground.icon}.png`} inset={-30} />
                </div>
            ))
        }
    </SearchableGrid>
</Layout>
