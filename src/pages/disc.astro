---
// @ts-nocheck
import Layout from '@/layouts/Layout.astro';

import Card from '@/components/Card.astro';
import SearchableGrid from '@/components/SearchableGrid.astro';

const DATA_URL = 'https://raw.githubusercontent.com/AutumnVN/StellaSoraData/refs/heads/main/disc.json';

const data = await fetch(DATA_URL).then((res) => res.json());

const emoji = {
    Aqua: 'ğŸ’§',
    Ignis: 'ğŸ”¥',
    Terra: 'â›°ï¸',
    Ventus: 'ğŸŒªï¸',
    Lux: 'â˜€ï¸',
    Umbra: 'ğŸŒ™',
    None: 'â¬œ',
};
---

<Layout title="Disc | stelladb">
    <SearchableGrid placeholder="Search discs by id, name, element, tag, or skill..." noResultsText="No disc found.">
        {
            Object.entries(data).map(([id, disc]) => (
                <div class="card-item" data-id={id} data-name={disc.name} data-element={disc.element} data-tag={disc.tag.join(' ')} data-skill={`${disc.mainSkill.name} ${disc.secondarySkill1?.name || ''} ${disc.secondarySkill2?.name || ''}`}>
                    <Card href={`/disc/${id}`} name={disc.name} star={disc.star} image={`/outfit_${id.replace(/^.{2}/, '')}.avif`} element={disc.element} />
                </div>
            ))
        }
    </SearchableGrid>
</Layout>
