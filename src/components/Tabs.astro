<div class="tabs-wrapper">
    <nav class="tabs">
        <slot />
    </nav>
</div>

<script>
    // @ts-nocheck
    const panels = document.querySelectorAll('.tab-panel');

    document.addEventListener('click', (e) => {
        const tab = e.target.closest('.tab');
        if (!tab) return;

        const container = tab.closest('.astro-tabs');
        const localTabs = container ? container.querySelectorAll('.tab') : document.querySelectorAll('.tab');

        localTabs.forEach((t) => t.classList.toggle('active', t === tab));

        panels.forEach((p) => {
            p.hidden = p.id !== tab.dataset.tab;
        });
    });
</script>

<style is:global>
    .tabs-wrapper {
        margin-left: auto;
    }

    .tabs {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .tab {
        cursor: pointer;
        border: none;
        background: transparent;
        padding: 0.5rem;
        color: var(--muted);
        font-size: 1rem;
    }

    .tab:hover {
        color: var(--text);
    }

    .tab.active {
        color: var(--text);
        font-weight: 700;
    }
</style>
